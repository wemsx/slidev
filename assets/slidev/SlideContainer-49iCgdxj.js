import{t as v,z as i,B as c,P as I,d as N,aG as P,a3 as A,ao as g,o as w,b as $,e as d,f as _,h as f}from"../modules/vue-CaDJDJmb.js";import{$ as D,a8 as r,a9 as q,aa as U,a as G,D as b,S as k,v as M,q as x,b as H,E as L,z as O,_ as T}from"../index-CWFghg93.js";function V(t){var e;return{info:v(((e=D(t))==null?void 0:e.meta.slide)??null),update:async()=>{}}}const h={};function ne(t){function e(a){return h[a]??(h[a]=V(a))}return{info:i({get(){return e(c(t)).info.value},set(a){e(c(t)).info.value=a}}),update:async(a,o)=>{const n=e(o??c(t)),s=await n.update(a);return s&&(n.info.value=s),s}}}const l=I({});let W=[],F=[];r(l,"$syncUp",!0);r(l,"$syncDown",!0);r(l,"$paused",!1);r(l,"$onSet",t=>W.push(t));r(l,"$onPatch",t=>F.push(t));q();r(l,"$patch",async()=>!1);const J=U(l,l,!0);var B;(B=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||B[1];var C;(C=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||C[1];class K{constructor(){this._screenshotSession=null}getSnapshot(e,a){const o=e+(a?"-dark":"-light"),n=J.state[o];if(!n)return;const s=D(e);if(s&&(n==null?void 0:n.revision)===(s==null?void 0:s.meta.slide.revision))return n.image}async saveSnapshot(e,a,o){return!1}async startCapturing(e){return!1}}const Q=new K,R=["id"],X=["id"],Y={key:1,class:"slidev-slide-container w-full h-full relative"},Z=["src"],ee=N({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1},contentStyle:{type:Object,default:()=>({})}},setup(t){const e=t,{isPrintMode:a}=G(),o=v(null),n=P(o),s=v(null),E=i(()=>e.width??n.width.value),z=i(()=>e.width?e.width/b.value:n.height.value),u=i(()=>k.value&&!a.value?+k.value:Math.min(E.value/M.value,z.value/x.value)),j=i(()=>({...e.contentStyle,height:`${x.value}px`,width:`${M.value}px`,transform:`translate(-50%, -50%) scale(${u.value})`,"--slidev-slide-scale":u.value})),p=i(()=>e.width?{width:`${e.width}px`,height:`${e.width/b.value}px`}:{});e.isMain&&A(i(()=>`:root { --slidev-slide-scale: ${u.value}; }`)),g(L,u),g(O,s);const S=i(()=>{if(!(e.no==null||!e.useSnapshot))return Q.getSnapshot(e.no,H.value)});return(m,y)=>S.value?(w(),$("div",Y,[d("img",{src:S.value,class:"w-full h-full object-cover",style:f(p.value)},null,12,Z),y[0]||(y[0]=d("div",{absolute:"","bottom-1":"","right-1":"","p0.5":"","text-cyan:75":"","bg-cyan:10":"",rounded:"",title:"Snapshot"},[d("div",{class:"i-carbon-camera"})],-1))])):(w(),$("div",{key:0,id:t.isMain?"slide-container":void 0,ref_key:"container",ref:o,class:"slidev-slide-container",style:f(p.value)},[d("div",{id:t.isMain?"slide-content":void 0,ref_key:"slideElement",ref:s,class:"slidev-slide-content",style:f(j.value)},[_(m.$slots,"default",{},void 0,!0)],12,X),_(m.$slots,"controls",{},void 0,!0)],12,R))}}),se=T(ee,[["__scopeId","data-v-603b074c"]]);export{se as S,V as a,ne as u};
