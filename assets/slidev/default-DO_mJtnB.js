import{d as S,z as s,t as _,L as $,aB as B,E as g,o as y,b as h,f as k}from"../modules/vue-Da57d5Zc.js";import{a as x,ai as L,_ as M}from"../index-BcQJLCYY.js";import{u as w}from"./context-DgkZWNop.js";const A=["poster","controls"],z=S({__name:"SlidevVideo",props:{autoplay:{type:[Boolean,String]},autoreset:{},poster:{},printPoster:{},timestamp:{},printTimestamp:{},controls:{type:Boolean}},setup(r){const e=r,u=s(()=>e.printPoster??e.poster),i=s(()=>e.printTimestamp??e.timestamp??0),{$slidev:l,$renderContext:T,$route:c}=w(),{isPrintMode:C}=x(),n=s(()=>C.value||!["slide","presenter"].includes(T.value)),o=_(),p=_(!1);$(()=>{if(n.value)return;const a=+(e.timestamp??0);o.value.currentTime=a;const t=s(()=>!!c&&c.no===(l==null?void 0:l.nav.currentSlideNo)),d=s(()=>{var v,f;return!!o.value&&(((f=(v=L.get(o.value))==null?void 0:v.isShown)==null?void 0:f.value)??!0)}),m=B(t,d);g(m,()=>{m.value?(e.autoplay===!0||e.autoplay==="once"&&!p.value)&&o.value.play():(o.value.pause(),(e.autoreset==="click"||e.autoreset==="slide"&&!t.value)&&(o.value.currentTime=a))},{immediate:!0})});function P(a){const t=a.target;n.value&&(!u.value||e.printTimestamp)&&(t.currentTime=i.value==="last"?t.duration:+i.value)}return(a,t)=>(y(),h("video",{ref_key:"video",ref:o,poster:n.value?u.value:e.poster,controls:!n.value&&e.controls,onPlay:t[0]||(t[0]=d=>p.value=!0),onLoadedmetadata:P},[k(a.$slots,"default")],40,A))}}),E={},I={class:"slidev-layout default"};function N(r,e){return y(),h("div",I,[k(r.$slots,"default")])}const V=M(E,[["render",N]]);export{V as I,z as _};
